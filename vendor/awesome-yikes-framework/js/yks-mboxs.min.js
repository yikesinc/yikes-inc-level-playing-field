function check_embed_url_ajax(e,t){var i=e.val(),s=e.attr("id");return 0===i.length?void jQuery("#"+s+"_status").html(""):(jQuery("#"+s+"_status").html(yks_mbox_ajax_data.spinner),void jQuery.post({dataType:"json",url:yks_mbox_ajax_data.ajax_url,data:{action:"yks_oembed_handler",oembed_url:i,field_id:s,post_id:yks_mbox_ajax_data.post_id,yks_ajax_nonce:yks_mbox_ajax_data.ajax_nonce},success:function(e){if(console.log(e),e.result===!1)jQuery("#"+s+"_status").html("<p> URL is not a valid oEmbed URL. </p>");else{var t="";t+='<div class="embed_status">',t+=e.result,t+='<span class="yks_hide_ubutton" data-field-id="'+s+'" data-oembed="delete" title="Remove Embed Preview"></span>',t+="</div>",jQuery("#"+s+"_status").html(t)}}}))}jQuery.fn.forceNumericFractions=function(){return this.each(function(){jQuery(this).keydown(function(e){var t=e.which||e.keyCode;return!e.shiftKey&&!e.altKey&&!e.ctrlKey&&t>=48&&57>=t||t>=96&&105>=t||190==t||109==t||110==t||8==t||9==t||13==t||35==t||36==t||37==t||39==t||46==t||45==t?!0:!1})})},jQuery.fn.forceNumeric=function(){return this.each(function(){jQuery(this).keydown(function(e){var t=e.which||e.keyCode;return!e.shiftKey&&!e.altKey&&!e.ctrlKey&&t>=48&&57>=t||t>=96&&105>=t||109==t||110==t||8==t||9==t||13==t||35==t||36==t||37==t||39==t||46==t||45==t?!0:!1})})},jQuery(document).ready(function(e){"use strict";e(".yks_txt_money").forceNumericFractions(),e(".yks_txt_number").forceNumeric(),e("body").on("focus",".yks_time_pick",function(){e(this).timepicker({minTime:"07:00",maxTime:"22:00",timeFormat:"h:i A",separator:":",step:30})}),e("body").on("changeTime",".yks_time_pick",function(){e(this).timepicker("hide")}),e("body").on("focus",".yks_date_pick",function(){e(this).datepicker(),e("#ui-datepicker-div").removeClass("yks_datepicker_year_only"),0===e(".yks_container").length&&e("#ui-datepicker-div").wrap('<div class="yks_container" />')}),e("body").on("focus",".yks_year_pick",function(){var t=this;e(this).datepicker({dateFormat:"yy-mm-dd",stepMonths:12,monthNames:["","","","","","","","","","","",""],changeYear:!0,yearRange:"1950:2025",beforeShow:function(t,i){e(this).datepicker("option","defaultDate",e(this).val()+"-01-01"),e("#ui-datepicker-div").addClass("yks_datepicker_year_only")},onClose:function(i,s){var a=e(".ui-datepicker-year :selected").val();e(t).val(a)}}),0===e(".yks_container").length&&e("#ui-datepicker-div").wrap('<div class="yks_container" />')}),"object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker&&e("input:text.yks_color_pick").wpColorPicker(),e(".yks_img_up").change(function(){var t=e(this).attr("name");console.log(t),console.log(e("#"+t+"_id")),e("#"+t+"_id").val("")}),e("body").on("click",".yks_img_up_button",function(t){var i=e(this);wp.media.editor.send.attachment;return wp.media.editor.send.attachment=function(e,t){i.siblings(".yks_img_up").val(t.url),i.siblings(".yks_img_up_id").val(t.id),i.siblings(".yks_upstat").html('<div class="img_status"><img src="'+t.url+'"><a class="yks_hide_ubutton" data-switch="single">Remove Image</a></div>')},wp.media.editor.open(i),!1}),e("body").on("click",".yks_hide_ubutton",function(t){t.preventDefault();var i=(e(this).data("field-id"),e(this).data("oembed")),s=e(this).data("switch");"delete"===i&&(e(this).parents(".embed_status").parents(".yks_upstat").siblings(".yks_oembed").val(""),e(this).parents(".embed_status").remove()),"single"===s&&(e(this).parents(".img_status").parents(".yks_upstat").siblings(".yks_file").val(""),e(this).parents(".img_status").remove())}),e("body").on("blur",".yks_oembed",function(e){check_embed_url_ajax(jQuery(this),e)}),jQuery(".select2_init").length>0&&"function"==typeof jQuery.fn.select2&&e(".select2_init").select2()});